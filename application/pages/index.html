<!DOCTYPE html>
<html lang="en" ng-app="isosejiApp">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>Isoseji</title>

        <!-- Bootstrap core CSS -->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

        <!-- Angular.js -->
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>

        <!-- local css -->
        <link href="/css/iso.css" rel="stylesheet">
        
        <!-- Don't cache anything. Ever. -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="cache-control" content="no-store" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

    </head>

    <body>
    
        <div id="wrap">

            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="container">
                    <div class="navbar-header">
                        <a class="navbar-brand" href="/">Isoseji</a>
                    </div> <!-- .navbar-header -->
                </div> <!-- .container -->
            </div> <!-- .navbar -->            

            <div class="container">
                <div class="inner-container" ng-controller="TtdController">
                    <div class="row" style="padding-top: 5px; padding-bottom: 5px;">
                        <div class="col-md-12">
                            <form novalidate ng-submit="submit()">
                                Thing: <input type="text" ng-model="newttd" placeholder="What needs to be done?" name="newttd">
                            </form>
                        </div>
                    </div>

                    <div ng-repeat="ttd in ttds" ng-controller="TtdDisplayController as dispctl"> 
                        <div class="row" style="padding-top: 5px; padding-bottom: 5px;">
                            <div class="col-md-12" ng-if="ttd.isOpen==false">
                                <span class="glyphicon glyphicon-plus" aria-hidden="true" ng-click="dispctl.toggle(ttd)"></span>{{ ttd.title }}
                            </div>
                            <div class="col-md-12" style="border-style:dotted; border-width:1px" ng-if="ttd.isOpen==true">
                                <div class="row">
                                    <div class="col-md-12">
                                        <span class="glyphicon glyphicon-minus" aria-hidden="true" ng-click="dispctl.toggle(ttd)"></span>{{ ttd.title }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-11 col-md-offset-1">
                                     (id:{{ttd.id}}, p:{{ttd.parent}})
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- /.inner-container -->
            </div><!-- /.container -->

        </div><!-- /.wrap -->
        
        <div id="footer">
            <div class="container text-right">
                <p class="text-muted credit">That's all, folks!</p>
            </div><!-- /.container -->
        </div><!-- /.footer -->

        <script src = "js/ttds.js"></script>
        <script src = "js/ttdlist.js"></script>
        <script src = "js/ttddisplay.js"></script>
        <script src = "bower_components/underscore/underscore.js"></script>
        <script src = "js/usservice.js"></script>
        
    </body>
</html>
